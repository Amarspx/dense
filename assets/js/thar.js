/*! thar v0.0.1 | Copyright (C) 2013 Jukka Svahn | http://uproar-n-rattle.biz/thar | Released under the MIT License */
(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var r=window.location.hash.substr(1),e={};e.setAnchorID=function(){return this.each(function(){var r,e=t(this),n=e.attr("id"),i=1;if(!n)for(r=n=encodeURIComponent(e.text().replace(/\s/g,"-")).replace(/[^A-Z0-9\-]/gi,"-").substr(0,255).replace(/^[\d\-]|-$/g,"").replace(/-{2,}/g,"-").toLowerCase()||"thar";;){if(!document.getElementById(r))return e.attr("id",r),void 0;r=n+"-"+i++}})},e.scrollTo=function(){var r=t(this).eq(0),e=r.attr("id");return t("html, body").animate({scrollTop:r.offset().top},1e3,"swing",function(){e&&(window.location.hash="#"+e)}),this},e.getContentList=function(r){r=t.extend({target:null},r);var n=0,i="",a=this.get(0).nodeName.substr(1,1),o=this.filter("h1, h2, h3, h4, h5, h6");return o.each(function(){var r=t(this),e=this.nodeName.substr(1,1);e>a||!r.attr("id")||(n?e==n?i+="</li><li>":e>n?i+=Array(e-n+1).join("<ul><li>"):n>e&&(i+=Array(e-n+1).join("</li></ul>")+"</li><li>"):i+="<li>",n=e,i+=t("<div />").html(t("<a />").text(r.clone().find(".jquery-thar-anchor").remove().end().text()).attr("href","#"+r.attr("id"))).html())}),i&&(i=t("<ul>"+i+Array(n-a+1).join("</li></ul>")+"</li></ul>"),i.find("a").on("click",function(r){var n=t(this).attr("href").substr(1);r.preventDefault(),e.scrollTo.apply(o.filter(function(){return t(this).attr("id")===n}))}),r.target?r.target.html(i):this.eq(0).before(i)),this},e.init=function(n){return n=t.extend({anchor:"&#167;"},n),this.thar("setAnchorID").each(function(){var i,a=this,o=t(this),h=o.attr("id");o.text(),o.hasClass("jquery-thar")||(o.addClass("jquery-thar").trigger("anchorcreate.thar"),h===r&&(e.scrollTo.apply(this),o.trigger("anchorload.thar",{id:h}),r=!1),n.anchor!==!1&&(i=t('<a class="jquery-thar-anchor" />').attr("href","#"+h).on("click.thar",function(t){t.preventDefault(),e.scrollTo.apply(a)}),n.anchor===!0?o.wrapInner(i):o.prepend(i.html(n.anchor)).prepend(" ")))})},t.fn.thar=function(r,n){return("string"!==t.type(r)||"function"!==t.type(e[r]))&&(n=r,r="init"),e[r].call(this,n)}});